/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./src/js/ccfw-frontend-legacy.js":
/*!****************************************!*\
  !*** ./src/js/ccfw-frontend-legacy.js ***!
  \****************************************/
/***/ (() => {

eval("(function ($) {\n  'use strict';\n  /**\n   *  Define handlers when you need to maniplate late loading items such as images\n   * */\n  // $(window).on('load', function () {\n  // place code here if you need to manipule a late loading object like images\n  // })\n\n  /**\n   *  Define handlers for when the html/DOM is ready.\n   *  Banner settings use cookies (rather than local storage) to make older browers < IE8 happy\n   * TODO: Target data attributes rather than CSS classes\n   * */\n\n  $(function () {\n    var cookie_key_banner_hidden = 'ccfw_wp_plugin.banner.hidden';\n    var cookie_key_ga_accept = 'ccfw_wp_plugin.ga.accept'; // This is used so much make sure all modules use it to save calls to DOM\n\n    var cacheMainElements = {\n      init: function init() {\n        this.$el = $('#ccfw-page-banner');\n        this.$body = $('body');\n        this.$html = $('html');\n      }\n    };\n    /**\n     *  Helper functions for shared tasks\n     * */\n\n    var utilities = {\n      init: function init() {\n        this.cacheDom();\n        this.bindEvents();\n      },\n      cacheDom: function cacheDom() {\n        this.$el = cacheMainElements.$el;\n        this.$settingsModal = this.$el.find('#cookie-popup');\n        this.$body = cacheMainElements.$body;\n        this.$html = cacheMainElements.$html;\n        this.$cookieSettingsButton = this.$body.find('#js-ccfw-settings-button');\n      },\n      bindEvents: function bindEvents() {\n        this.$cookieSettingsButton.on('click', this.showBanner.bind(this));\n      },\n      getCookie: function getCookie(name) {\n        var value = '; ' + document.cookie;\n        var parts = value.split('; ' + name + '=');\n\n        if (parts.length === 2) {\n          return parts.pop().split(';').shift();\n        }\n      },\n      setCookie: function setCookie(name, value, days) {\n        var d = new Date();\n        d.setTime(d.getTime() + 24 * 60 * 60 * 1000 * days);\n        document.cookie = name + '=' + value + '; path=/; expires=' + d.toGMTString();\n      },\n      deleteCookie: function deleteCookie(name) {\n        document.cookie = name + '=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;';\n      },\n      checkForCookie: function checkForCookie(key) {\n        var cookie = this.getCookie(key);\n        var bool = cookie === undefined ? false : true;\n        return bool;\n      },\n      showBanner: function showBanner() {\n        this.$el.show();\n        this.$cookieSettingsButton.hide();\n        this.toggleAriaHidden(this.$el, \"hide\");\n      },\n      hideBanner: function hideBanner() {\n        this.$el.hide();\n        this.toggleAriaHidden(this.$el, \"unhide\");\n        this.$cookieSettingsButton.show();\n      },\n      hideSettingsModal: function hideSettingsModal() {\n        this.$settingsModal.hide();\n        this.$body.removeClass(\"ccfw-modal-open\");\n        this.$el.removeClass(\"ccfw-cookie-banner-open\");\n        this.$html.removeClass(\"ccfw-cookie-banner-open\");\n        this.$body.removeClass(\"ccfw-cookie-banner-open\");\n      },\n      showSettingsModal: function showSettingsModal() {\n        this.$settingsModal.show();\n        this.$body.addClass(\"ccfw-modal-open\");\n        this.$el.addClass(\"ccfw-cookie-banner-open\");\n        this.$html.addClass(\"ccfw-cookie-banner-open\");\n        this.$body.addClass(\"ccfw-cookie-banner-open\");\n\n        if (utilities.checkForCookie(cookie_key_ga_accept)) {\n          settingsModal.$GAcheckBox.attr(\"aria-checked\", true);\n        }\n\n        settingsModal.trapSettingsFocus();\n        var pressed = settingsModal.$GAcheckBox.attr(\"aria-checked\") === \"true\";\n\n        if (pressed) {\n          settingsModal.$gaToggleOnText.show();\n          settingsModal.$gaToggleOffText.hide();\n        } else {\n          settingsModal.$gaToggleOffText.show();\n          settingsModal.$gaToggleOnText.hide();\n        }\n      },\n      toggleAriaHidden: function toggleAriaHidden(elem, state) {\n        var siblings = [];\n        var sibling = elem.parent().children();\n\n        while (sibling) {\n          if (sibling !== elem) {\n            siblings.push(sibling);\n          }\n\n          sibling = sibling.nextSibling;\n        }\n\n        if (state === \"hide\") {\n          siblings.forEach(function (sibling) {\n            sibling.attr(\"aria-hidden\", \"true\");\n            elem.removeAttr(\"aria-hidden\", \"true\");\n          });\n        } else {\n          siblings.forEach(function (sibling) {\n            sibling.removeAttr(\"aria-hidden\", \"true\");\n          });\n        }\n      }\n    };\n    /**\n     *  Banner management and control\n     * */\n\n    var banner = {\n      init: function init() {\n        this.cacheDom();\n        this.bindEvents();\n        this.bannerDisplay();\n      },\n      cacheDom: function cacheDom() {\n        this.$el = cacheMainElements.$el;\n        this.$buttonAccept = this.$el.find('#cookie-accept');\n        this.$buttonDecline = this.$el.find('#cookie-decline');\n        this.$buttonInfo = this.$el.find('#cookie-more-info');\n      },\n      bindEvents: function bindEvents() {\n        this.$buttonAccept.on('click', this.acceptAllButton.bind(this));\n        this.$buttonDecline.on('click', this.declineAllButton.bind(this));\n        this.$buttonInfo.on('click', this.chooseCookieSettingsButton.bind(this));\n      },\n      bannerDisplay: function bannerDisplay() {\n        if (utilities.checkForCookie(cookie_key_banner_hidden) === false) {\n          utilities.showBanner();\n          this.trapBannerFocus();\n        } else {\n          utilities.hideBanner();\n        }\n      },\n      trapBannerFocus: function trapBannerFocus() {\n        var cookieBannerButtons = $('.ccfw-banner__buttons');\n        var focusableEls = $('.ccfw-banner__buttons #cookie-accept, .ccfw-banner__buttons #cookie-decline, .ccfw-banner__buttons #cookie-more-info');\n        var firstFocusableEl = focusableEls[0];\n        var lastFocusableEl = focusableEls[focusableEls.length - 1];\n        cookieBannerButtons.on('keydown', function (e) {\n          var isTabPressed = e.key === 'Tab';\n\n          if (!isTabPressed) {\n            return;\n          }\n\n          if (e.shiftKey)\n            /* shift + tab */\n            {\n              if (document.activeElement === firstFocusableEl) {\n                lastFocusableEl.focus();\n                e.preventDefault();\n              }\n            } else\n            /* tab */\n            {\n              if (document.activeElement === lastFocusableEl) {\n                firstFocusableEl.focus();\n                e.preventDefault();\n              }\n            }\n        });\n      },\n      acceptAllButton: function acceptAllButton() {\n        utilities.setCookie(cookie_key_banner_hidden, 'true', 365);\n        utilities.setCookie(cookie_key_ga_accept, 'true', 365);\n        utilities.hideBanner();\n      },\n      declineAllButton: function declineAllButton() {\n        utilities.setCookie(cookie_key_banner_hidden, 'true', 365);\n        utilities.deleteCookie(cookie_key_ga_accept);\n        utilities.hideBanner();\n      },\n      chooseCookieSettingsButton: function chooseCookieSettingsButton() {\n        utilities.showSettingsModal();\n      }\n    };\n    var settingsModal = {\n      init: function init() {\n        this.cacheDom();\n        this.bindEvents();\n      },\n      cacheDom: function cacheDom() {\n        this.$el = cacheMainElements.$el;\n        this.$settingsModal = this.$el.find('#cookie-popup');\n        this.$buttonAccept = this.$settingsModal.find('#cookie-accept');\n        this.$buttonDecline = this.$settingsModal.find('#cookie-decline');\n        this.$buttonInfo = this.$settingsModal.find('#cookie-more-info');\n        this.$buttonSavePreferences = this.$settingsModal.find('#cookie-save-preferences');\n        this.$GAcheckBox = this.$settingsModal.find('#ccfw-analytics-cookies-toggle');\n        this.$buttonModalClose = this.$settingsModal.find('#ccfw-modal-close');\n        this.$body = cacheMainElements.$body;\n        this.$gaToggleOnText = this.$settingsModal.find('#ccfw-ga-toggle-on');\n        this.$gaToggleOffText = this.$settingsModal.find('#ccfw-ga-toggle-off');\n      },\n      bindEvents: function bindEvents() {\n        this.$buttonModalClose.on('click', this.modalDisplay.bind(this));\n        this.$buttonInfo.on('click', this.trapSettingsFocus.bind(this));\n        this.$buttonSavePreferences.on('click', this.saveCookiePreferences.bind(this));\n        this.$GAcheckBox.on('click', this.toggleAriaPressed.bind(this));\n      },\n      modalDisplay: function modalDisplay() {\n        utilities.hideSettingsModal();\n      },\n      toggleAriaPressed: function toggleAriaPressed() {\n        var pressed = this.$GAcheckBox.attr(\"aria-checked\") === \"true\";\n        this.$GAcheckBox.attr(\"aria-checked\", !pressed);\n\n        if (!pressed) {\n          this.$gaToggleOnText.show();\n          this.$gaToggleOffText.hide();\n        } else {\n          this.$gaToggleOffText.show();\n          this.$gaToggleOnText.hide();\n        }\n      },\n      trapSettingsFocus: function trapSettingsFocus() {\n        this.$settingsModal.focus();\n        /*Trap focus */\n\n        /* Based on Hidde de Vries' solution: https://hiddedevries.nl/en/blog/2017-01-29-using-javascript-to-trap-focus-in-an-element */\n\n        var focusableEls = $('#cookie-popup a[href], #cookie-popup details, #cookie-popup button, #cookie-popup input[type=\"checkbox\"]');\n        var firstFocusableEl = focusableEls[0];\n        var lastFocusableEl = focusableEls[focusableEls.length - 1];\n        this.$el.on('keydown', function (e) {\n          // Close banner if user presses escape key\n          if (e.key === 'Escape') {\n            utilities.hideSettingsModal();\n          }\n\n          var isTabPressed = e.key === 'Tab';\n\n          if (!isTabPressed) {\n            return;\n          }\n\n          if (e.shiftKey)\n            /* shift + tab */\n            {\n              if (document.activeElement === firstFocusableEl) {\n                lastFocusableEl.focus();\n                e.preventDefault();\n              }\n            } else\n            /* tab */\n            {\n              if (document.activeElement === lastFocusableEl) {\n                firstFocusableEl.focus();\n                e.preventDefault();\n              }\n            }\n        });\n      },\n      saveCookiePreferences: function saveCookiePreferences() {\n        var analyticsCookiesTurnedOn = this.$GAcheckBox.attr(\"aria-checked\") === \"true\";\n\n        if (analyticsCookiesTurnedOn === true) {\n          utilities.setCookie(cookie_key_ga_accept, 'true', 365);\n        }\n\n        if (analyticsCookiesTurnedOn === false) {\n          // GA - If present remove GA cookie, otherwise do nothing, default is GA off\n          if (utilities.checkForCookie(cookie_key_ga_accept)) {\n            utilities.deleteCookie(cookie_key_ga_accept);\n          }\n        }\n\n        utilities.setCookie(cookie_key_banner_hidden, 'true', 365);\n        utilities.hideBanner();\n        utilities.hideSettingsModal();\n      }\n    };\n    cacheMainElements.init();\n    utilities.init();\n    banner.init();\n    settingsModal.init();\n  });\n})(jQuery);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jb29raWUtY29tcGxpYW5jZS1mb3Itd29yZHByZXNzLy4vc3JjL2pzL2NjZnctZnJvbnRlbmQtbGVnYWN5LmpzP2ZkMjUiXSwibmFtZXMiOlsiJCIsImNvb2tpZV9rZXlfYmFubmVyX2hpZGRlbiIsImNvb2tpZV9rZXlfZ2FfYWNjZXB0IiwiY2FjaGVNYWluRWxlbWVudHMiLCJpbml0IiwiJGVsIiwiJGJvZHkiLCIkaHRtbCIsInV0aWxpdGllcyIsImNhY2hlRG9tIiwiYmluZEV2ZW50cyIsIiRzZXR0aW5nc01vZGFsIiwiZmluZCIsIiRjb29raWVTZXR0aW5nc0J1dHRvbiIsIm9uIiwic2hvd0Jhbm5lciIsImJpbmQiLCJnZXRDb29raWUiLCJuYW1lIiwidmFsdWUiLCJkb2N1bWVudCIsImNvb2tpZSIsInBhcnRzIiwic3BsaXQiLCJsZW5ndGgiLCJwb3AiLCJzaGlmdCIsInNldENvb2tpZSIsImRheXMiLCJkIiwiRGF0ZSIsInNldFRpbWUiLCJnZXRUaW1lIiwidG9HTVRTdHJpbmciLCJkZWxldGVDb29raWUiLCJjaGVja0ZvckNvb2tpZSIsImtleSIsImJvb2wiLCJ1bmRlZmluZWQiLCJzaG93IiwiaGlkZSIsInRvZ2dsZUFyaWFIaWRkZW4iLCJoaWRlQmFubmVyIiwiaGlkZVNldHRpbmdzTW9kYWwiLCJyZW1vdmVDbGFzcyIsInNob3dTZXR0aW5nc01vZGFsIiwiYWRkQ2xhc3MiLCJzZXR0aW5nc01vZGFsIiwiJEdBY2hlY2tCb3giLCJhdHRyIiwidHJhcFNldHRpbmdzRm9jdXMiLCJwcmVzc2VkIiwiJGdhVG9nZ2xlT25UZXh0IiwiJGdhVG9nZ2xlT2ZmVGV4dCIsImVsZW0iLCJzdGF0ZSIsInNpYmxpbmdzIiwic2libGluZyIsInBhcmVudCIsImNoaWxkcmVuIiwicHVzaCIsIm5leHRTaWJsaW5nIiwiZm9yRWFjaCIsInJlbW92ZUF0dHIiLCJiYW5uZXIiLCJiYW5uZXJEaXNwbGF5IiwiJGJ1dHRvbkFjY2VwdCIsIiRidXR0b25EZWNsaW5lIiwiJGJ1dHRvbkluZm8iLCJhY2NlcHRBbGxCdXR0b24iLCJkZWNsaW5lQWxsQnV0dG9uIiwiY2hvb3NlQ29va2llU2V0dGluZ3NCdXR0b24iLCJ0cmFwQmFubmVyRm9jdXMiLCJjb29raWVCYW5uZXJCdXR0b25zIiwiZm9jdXNhYmxlRWxzIiwiZmlyc3RGb2N1c2FibGVFbCIsImxhc3RGb2N1c2FibGVFbCIsImUiLCJpc1RhYlByZXNzZWQiLCJzaGlmdEtleSIsImFjdGl2ZUVsZW1lbnQiLCJmb2N1cyIsInByZXZlbnREZWZhdWx0IiwiJGJ1dHRvblNhdmVQcmVmZXJlbmNlcyIsIiRidXR0b25Nb2RhbENsb3NlIiwibW9kYWxEaXNwbGF5Iiwic2F2ZUNvb2tpZVByZWZlcmVuY2VzIiwidG9nZ2xlQXJpYVByZXNzZWQiLCJhbmFseXRpY3NDb29raWVzVHVybmVkT24iLCJqUXVlcnkiXSwibWFwcGluZ3MiOiJBQUFBLENBQUMsVUFBVUEsQ0FBVixFQUFhO0FBQ1Y7QUFDQTtBQUNKO0FBQ0E7QUFFSTtBQUNBO0FBQ0E7O0FBRUE7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFDSUEsRUFBQUEsQ0FBQyxDQUFDLFlBQVk7QUFFVixRQUFNQyx3QkFBd0IsR0FBRyw4QkFBakM7QUFDQSxRQUFNQyxvQkFBb0IsR0FBSywwQkFBL0IsQ0FIVSxDQUtWOztBQUNBLFFBQU1DLGlCQUFpQixHQUFHO0FBQ3RCQyxNQUFBQSxJQUFJLEVBQUUsZ0JBQVk7QUFDZCxhQUFLQyxHQUFMLEdBQVdMLENBQUMsQ0FBQyxtQkFBRCxDQUFaO0FBQ0EsYUFBS00sS0FBTCxHQUFhTixDQUFDLENBQUMsTUFBRCxDQUFkO0FBQ0EsYUFBS08sS0FBTCxHQUFhUCxDQUFDLENBQUMsTUFBRCxDQUFkO0FBQ0g7QUFMcUIsS0FBMUI7QUFRQTtBQUNSO0FBQ0E7O0FBQ1EsUUFBTVEsU0FBUyxHQUFHO0FBQ2RKLE1BQUFBLElBQUksRUFBRSxnQkFBWTtBQUNkLGFBQUtLLFFBQUw7QUFDQSxhQUFLQyxVQUFMO0FBQ0gsT0FKYTtBQUtkRCxNQUFBQSxRQUFRLEVBQUUsb0JBQVk7QUFDbEIsYUFBS0osR0FBTCxHQUFXRixpQkFBaUIsQ0FBQ0UsR0FBN0I7QUFDQSxhQUFLTSxjQUFMLEdBQXNCLEtBQUtOLEdBQUwsQ0FBU08sSUFBVCxDQUFjLGVBQWQsQ0FBdEI7QUFDQSxhQUFLTixLQUFMLEdBQWFILGlCQUFpQixDQUFDRyxLQUEvQjtBQUNBLGFBQUtDLEtBQUwsR0FBYUosaUJBQWlCLENBQUNJLEtBQS9CO0FBQ0EsYUFBS00scUJBQUwsR0FBNkIsS0FBS1AsS0FBTCxDQUFXTSxJQUFYLENBQWdCLDBCQUFoQixDQUE3QjtBQUNILE9BWGE7QUFZZEYsTUFBQUEsVUFBVSxFQUFFLHNCQUFZO0FBQ3BCLGFBQUtHLHFCQUFMLENBQTJCQyxFQUEzQixDQUE4QixPQUE5QixFQUF1QyxLQUFLQyxVQUFMLENBQWdCQyxJQUFoQixDQUFxQixJQUFyQixDQUF2QztBQUNILE9BZGE7QUFlZEMsTUFBQUEsU0FBUyxFQUFFLG1CQUFVQyxJQUFWLEVBQWdCO0FBQ3ZCLFlBQUlDLEtBQUssR0FBRyxPQUFPQyxRQUFRLENBQUNDLE1BQTVCO0FBQ0EsWUFBSUMsS0FBSyxHQUFHSCxLQUFLLENBQUNJLEtBQU4sQ0FBWSxPQUFPTCxJQUFQLEdBQWMsR0FBMUIsQ0FBWjs7QUFDQSxZQUFJSSxLQUFLLENBQUNFLE1BQU4sS0FBaUIsQ0FBckIsRUFBd0I7QUFDcEIsaUJBQU9GLEtBQUssQ0FBQ0csR0FBTixHQUFZRixLQUFaLENBQWtCLEdBQWxCLEVBQXVCRyxLQUF2QixFQUFQO0FBQ0g7QUFDSixPQXJCYTtBQXNCZEMsTUFBQUEsU0FBUyxFQUFFLG1CQUFVVCxJQUFWLEVBQWdCQyxLQUFoQixFQUF1QlMsSUFBdkIsRUFBNkI7QUFDcEMsWUFBSUMsQ0FBQyxHQUFHLElBQUlDLElBQUosRUFBUjtBQUNBRCxRQUFBQSxDQUFDLENBQUNFLE9BQUYsQ0FBVUYsQ0FBQyxDQUFDRyxPQUFGLEtBQWMsS0FBSyxFQUFMLEdBQVUsRUFBVixHQUFlLElBQWYsR0FBc0JKLElBQTlDO0FBQ0FSLFFBQUFBLFFBQVEsQ0FBQ0MsTUFBVCxHQUFrQkgsSUFBSSxHQUFHLEdBQVAsR0FBYUMsS0FBYixHQUFxQixvQkFBckIsR0FBNENVLENBQUMsQ0FBQ0ksV0FBRixFQUE5RDtBQUNILE9BMUJhO0FBMkJkQyxNQUFBQSxZQUFZLEVBQUUsc0JBQVVoQixJQUFWLEVBQWdCO0FBQzFCRSxRQUFBQSxRQUFRLENBQUNDLE1BQVQsR0FBa0JILElBQUksR0FBRyxtREFBekI7QUFDSCxPQTdCYTtBQThCZGlCLE1BQUFBLGNBQWMsRUFBRSx3QkFBVUMsR0FBVixFQUFlO0FBQzNCLFlBQUlmLE1BQU0sR0FBRyxLQUFLSixTQUFMLENBQWVtQixHQUFmLENBQWI7QUFDQSxZQUFJQyxJQUFJLEdBQUdoQixNQUFNLEtBQUtpQixTQUFYLEdBQXVCLEtBQXZCLEdBQStCLElBQTFDO0FBQ0EsZUFBT0QsSUFBUDtBQUNILE9BbENhO0FBbUNkdEIsTUFBQUEsVUFBVSxFQUFFLHNCQUFZO0FBQ3BCLGFBQUtWLEdBQUwsQ0FBU2tDLElBQVQ7QUFDQSxhQUFLMUIscUJBQUwsQ0FBMkIyQixJQUEzQjtBQUNBLGFBQUtDLGdCQUFMLENBQXNCLEtBQUtwQyxHQUEzQixFQUFnQyxNQUFoQztBQUNILE9BdkNhO0FBd0NkcUMsTUFBQUEsVUFBVSxFQUFFLHNCQUFZO0FBQ3BCLGFBQUtyQyxHQUFMLENBQVNtQyxJQUFUO0FBQ0EsYUFBS0MsZ0JBQUwsQ0FBc0IsS0FBS3BDLEdBQTNCLEVBQWdDLFFBQWhDO0FBQ0EsYUFBS1EscUJBQUwsQ0FBMkIwQixJQUEzQjtBQUNILE9BNUNhO0FBNkNkSSxNQUFBQSxpQkFBaUIsRUFBRSw2QkFBWTtBQUMzQixhQUFLaEMsY0FBTCxDQUFvQjZCLElBQXBCO0FBQ0EsYUFBS2xDLEtBQUwsQ0FBV3NDLFdBQVgsQ0FBdUIsaUJBQXZCO0FBQ0EsYUFBS3ZDLEdBQUwsQ0FBU3VDLFdBQVQsQ0FBcUIseUJBQXJCO0FBQ0EsYUFBS3JDLEtBQUwsQ0FBV3FDLFdBQVgsQ0FBdUIseUJBQXZCO0FBQ0EsYUFBS3RDLEtBQUwsQ0FBV3NDLFdBQVgsQ0FBdUIseUJBQXZCO0FBQ0gsT0FuRGE7QUFvRGRDLE1BQUFBLGlCQUFpQixFQUFFLDZCQUFZO0FBQzNCLGFBQUtsQyxjQUFMLENBQW9CNEIsSUFBcEI7QUFDQSxhQUFLakMsS0FBTCxDQUFXd0MsUUFBWCxDQUFvQixpQkFBcEI7QUFDQSxhQUFLekMsR0FBTCxDQUFTeUMsUUFBVCxDQUFrQix5QkFBbEI7QUFDQSxhQUFLdkMsS0FBTCxDQUFXdUMsUUFBWCxDQUFvQix5QkFBcEI7QUFDQSxhQUFLeEMsS0FBTCxDQUFXd0MsUUFBWCxDQUFvQix5QkFBcEI7O0FBQ0EsWUFBSXRDLFNBQVMsQ0FBQzJCLGNBQVYsQ0FBeUJqQyxvQkFBekIsQ0FBSixFQUFvRDtBQUNoRDZDLFVBQUFBLGFBQWEsQ0FBQ0MsV0FBZCxDQUEwQkMsSUFBMUIsQ0FBK0IsY0FBL0IsRUFBK0MsSUFBL0M7QUFDSDs7QUFDREYsUUFBQUEsYUFBYSxDQUFDRyxpQkFBZDtBQUVBLFlBQUlDLE9BQU8sR0FBR0osYUFBYSxDQUFDQyxXQUFkLENBQTBCQyxJQUExQixDQUErQixjQUEvQixNQUFtRCxNQUFqRTs7QUFFQSxZQUFJRSxPQUFKLEVBQWE7QUFDVEosVUFBQUEsYUFBYSxDQUFDSyxlQUFkLENBQThCYixJQUE5QjtBQUNBUSxVQUFBQSxhQUFhLENBQUNNLGdCQUFkLENBQStCYixJQUEvQjtBQUNILFNBSEQsTUFHTztBQUNITyxVQUFBQSxhQUFhLENBQUNNLGdCQUFkLENBQStCZCxJQUEvQjtBQUNBUSxVQUFBQSxhQUFhLENBQUNLLGVBQWQsQ0FBOEJaLElBQTlCO0FBQ0g7QUFDSixPQXhFYTtBQXlFZEMsTUFBQUEsZ0JBQWdCLEVBQUUsMEJBQVVhLElBQVYsRUFBZ0JDLEtBQWhCLEVBQXVCO0FBQ3JDLFlBQUlDLFFBQVEsR0FBRyxFQUFmO0FBQ0EsWUFBSUMsT0FBTyxHQUFHSCxJQUFJLENBQUNJLE1BQUwsR0FBY0MsUUFBZCxFQUFkOztBQUVBLGVBQU9GLE9BQVAsRUFBZ0I7QUFDWixjQUFJQSxPQUFPLEtBQUtILElBQWhCLEVBQXNCO0FBQ2xCRSxZQUFBQSxRQUFRLENBQUNJLElBQVQsQ0FBY0gsT0FBZDtBQUNIOztBQUNEQSxVQUFBQSxPQUFPLEdBQUdBLE9BQU8sQ0FBQ0ksV0FBbEI7QUFDSDs7QUFFRCxZQUFJTixLQUFLLEtBQUssTUFBZCxFQUFzQjtBQUNsQkMsVUFBQUEsUUFBUSxDQUFDTSxPQUFULENBQWlCLFVBQVVMLE9BQVYsRUFBbUI7QUFDaENBLFlBQUFBLE9BQU8sQ0FBQ1IsSUFBUixDQUFhLGFBQWIsRUFBNEIsTUFBNUI7QUFDQUssWUFBQUEsSUFBSSxDQUFDUyxVQUFMLENBQWdCLGFBQWhCLEVBQStCLE1BQS9CO0FBQ0gsV0FIRDtBQUlILFNBTEQsTUFLTztBQUNIUCxVQUFBQSxRQUFRLENBQUNNLE9BQVQsQ0FBaUIsVUFBVUwsT0FBVixFQUFtQjtBQUNoQ0EsWUFBQUEsT0FBTyxDQUFDTSxVQUFSLENBQW1CLGFBQW5CLEVBQWtDLE1BQWxDO0FBQ0gsV0FGRDtBQUdIO0FBQ0o7QUE5RmEsS0FBbEI7QUFpR0E7QUFDUjtBQUNBOztBQUNRLFFBQU1DLE1BQU0sR0FBRztBQUNYNUQsTUFBQUEsSUFBSSxFQUFFLGdCQUFZO0FBQ2QsYUFBS0ssUUFBTDtBQUNBLGFBQUtDLFVBQUw7QUFDQSxhQUFLdUQsYUFBTDtBQUNILE9BTFU7QUFNWHhELE1BQUFBLFFBQVEsRUFBRSxvQkFBWTtBQUNsQixhQUFLSixHQUFMLEdBQVdGLGlCQUFpQixDQUFDRSxHQUE3QjtBQUNBLGFBQUs2RCxhQUFMLEdBQXFCLEtBQUs3RCxHQUFMLENBQVNPLElBQVQsQ0FBYyxnQkFBZCxDQUFyQjtBQUNBLGFBQUt1RCxjQUFMLEdBQXNCLEtBQUs5RCxHQUFMLENBQVNPLElBQVQsQ0FBYyxpQkFBZCxDQUF0QjtBQUNBLGFBQUt3RCxXQUFMLEdBQW1CLEtBQUsvRCxHQUFMLENBQVNPLElBQVQsQ0FBYyxtQkFBZCxDQUFuQjtBQUNILE9BWFU7QUFZWEYsTUFBQUEsVUFBVSxFQUFFLHNCQUFZO0FBQ3BCLGFBQUt3RCxhQUFMLENBQW1CcEQsRUFBbkIsQ0FBc0IsT0FBdEIsRUFBK0IsS0FBS3VELGVBQUwsQ0FBcUJyRCxJQUFyQixDQUEwQixJQUExQixDQUEvQjtBQUNBLGFBQUttRCxjQUFMLENBQW9CckQsRUFBcEIsQ0FBdUIsT0FBdkIsRUFBZ0MsS0FBS3dELGdCQUFMLENBQXNCdEQsSUFBdEIsQ0FBMkIsSUFBM0IsQ0FBaEM7QUFDQSxhQUFLb0QsV0FBTCxDQUFpQnRELEVBQWpCLENBQW9CLE9BQXBCLEVBQTZCLEtBQUt5RCwwQkFBTCxDQUFnQ3ZELElBQWhDLENBQXFDLElBQXJDLENBQTdCO0FBQ0gsT0FoQlU7QUFpQlhpRCxNQUFBQSxhQUFhLEVBQUUseUJBQVk7QUFDdkIsWUFBSXpELFNBQVMsQ0FBQzJCLGNBQVYsQ0FBeUJsQyx3QkFBekIsTUFBdUQsS0FBM0QsRUFBa0U7QUFDOURPLFVBQUFBLFNBQVMsQ0FBQ08sVUFBVjtBQUNBLGVBQUt5RCxlQUFMO0FBQ0gsU0FIRCxNQUdPO0FBQ0hoRSxVQUFBQSxTQUFTLENBQUNrQyxVQUFWO0FBQ0g7QUFDSixPQXhCVTtBQXlCWDhCLE1BQUFBLGVBQWUsRUFBRSwyQkFBWTtBQUN6QixZQUFJQyxtQkFBbUIsR0FBR3pFLENBQUMsQ0FBQyx1QkFBRCxDQUEzQjtBQUNBLFlBQUkwRSxZQUFZLEdBQUcxRSxDQUFDLENBQUMsc0hBQUQsQ0FBcEI7QUFFQSxZQUFJMkUsZ0JBQWdCLEdBQUdELFlBQVksQ0FBQyxDQUFELENBQW5DO0FBQ0EsWUFBSUUsZUFBZSxHQUFHRixZQUFZLENBQUNBLFlBQVksQ0FBQ2xELE1BQWIsR0FBc0IsQ0FBdkIsQ0FBbEM7QUFFQWlELFFBQUFBLG1CQUFtQixDQUFDM0QsRUFBcEIsQ0FBdUIsU0FBdkIsRUFBa0MsVUFBVStELENBQVYsRUFBYTtBQUMzQyxjQUFJQyxZQUFZLEdBQUlELENBQUMsQ0FBQ3pDLEdBQUYsS0FBVSxLQUE5Qjs7QUFFQSxjQUFJLENBQUMwQyxZQUFMLEVBQW1CO0FBQ2Y7QUFDSDs7QUFDRCxjQUFJRCxDQUFDLENBQUNFLFFBQU47QUFBZ0I7QUFBa0I7QUFDOUIsa0JBQUkzRCxRQUFRLENBQUM0RCxhQUFULEtBQTJCTCxnQkFBL0IsRUFBaUQ7QUFDN0NDLGdCQUFBQSxlQUFlLENBQUNLLEtBQWhCO0FBQ0FKLGdCQUFBQSxDQUFDLENBQUNLLGNBQUY7QUFDSDtBQUNKLGFBTEQ7QUFLTztBQUFVO0FBQ2Isa0JBQUk5RCxRQUFRLENBQUM0RCxhQUFULEtBQTJCSixlQUEvQixFQUFnRDtBQUM1Q0QsZ0JBQUFBLGdCQUFnQixDQUFDTSxLQUFqQjtBQUNBSixnQkFBQUEsQ0FBQyxDQUFDSyxjQUFGO0FBQ0g7QUFDSjtBQUNKLFNBakJEO0FBa0JILE9BbERVO0FBbURYYixNQUFBQSxlQUFlLEVBQUUsMkJBQVk7QUFDekI3RCxRQUFBQSxTQUFTLENBQUNtQixTQUFWLENBQW9CMUIsd0JBQXBCLEVBQThDLE1BQTlDLEVBQXNELEdBQXREO0FBQ0FPLFFBQUFBLFNBQVMsQ0FBQ21CLFNBQVYsQ0FBb0J6QixvQkFBcEIsRUFBMEMsTUFBMUMsRUFBa0QsR0FBbEQ7QUFDQU0sUUFBQUEsU0FBUyxDQUFDa0MsVUFBVjtBQUNILE9BdkRVO0FBd0RYNEIsTUFBQUEsZ0JBQWdCLEVBQUUsNEJBQVc7QUFDekI5RCxRQUFBQSxTQUFTLENBQUNtQixTQUFWLENBQW9CMUIsd0JBQXBCLEVBQThDLE1BQTlDLEVBQXNELEdBQXREO0FBQ0FPLFFBQUFBLFNBQVMsQ0FBQzBCLFlBQVYsQ0FBdUJoQyxvQkFBdkI7QUFDQU0sUUFBQUEsU0FBUyxDQUFDa0MsVUFBVjtBQUNILE9BNURVO0FBNkRYNkIsTUFBQUEsMEJBQTBCLEVBQUUsc0NBQVc7QUFDbkMvRCxRQUFBQSxTQUFTLENBQUNxQyxpQkFBVjtBQUNIO0FBL0RVLEtBQWY7QUFrRUEsUUFBTUUsYUFBYSxHQUFHO0FBQ2xCM0MsTUFBQUEsSUFBSSxFQUFFLGdCQUFZO0FBQ2QsYUFBS0ssUUFBTDtBQUNBLGFBQUtDLFVBQUw7QUFDSCxPQUppQjtBQUtsQkQsTUFBQUEsUUFBUSxFQUFFLG9CQUFZO0FBQ2xCLGFBQUtKLEdBQUwsR0FBV0YsaUJBQWlCLENBQUNFLEdBQTdCO0FBQ0EsYUFBS00sY0FBTCxHQUFzQixLQUFLTixHQUFMLENBQVNPLElBQVQsQ0FBYyxlQUFkLENBQXRCO0FBQ0EsYUFBS3NELGFBQUwsR0FBcUIsS0FBS3ZELGNBQUwsQ0FBb0JDLElBQXBCLENBQXlCLGdCQUF6QixDQUFyQjtBQUNBLGFBQUt1RCxjQUFMLEdBQXNCLEtBQUt4RCxjQUFMLENBQW9CQyxJQUFwQixDQUF5QixpQkFBekIsQ0FBdEI7QUFDQSxhQUFLd0QsV0FBTCxHQUFtQixLQUFLekQsY0FBTCxDQUFvQkMsSUFBcEIsQ0FBeUIsbUJBQXpCLENBQW5CO0FBQ0EsYUFBS3VFLHNCQUFMLEdBQThCLEtBQUt4RSxjQUFMLENBQW9CQyxJQUFwQixDQUF5QiwwQkFBekIsQ0FBOUI7QUFDQSxhQUFLb0MsV0FBTCxHQUFtQixLQUFLckMsY0FBTCxDQUFvQkMsSUFBcEIsQ0FBeUIsZ0NBQXpCLENBQW5CO0FBQ0EsYUFBS3dFLGlCQUFMLEdBQXlCLEtBQUt6RSxjQUFMLENBQW9CQyxJQUFwQixDQUF5QixtQkFBekIsQ0FBekI7QUFDQSxhQUFLTixLQUFMLEdBQWFILGlCQUFpQixDQUFDRyxLQUEvQjtBQUNBLGFBQUs4QyxlQUFMLEdBQXVCLEtBQUt6QyxjQUFMLENBQW9CQyxJQUFwQixDQUF5QixvQkFBekIsQ0FBdkI7QUFDQSxhQUFLeUMsZ0JBQUwsR0FBd0IsS0FBSzFDLGNBQUwsQ0FBb0JDLElBQXBCLENBQXlCLHFCQUF6QixDQUF4QjtBQUNILE9BakJpQjtBQWtCbEJGLE1BQUFBLFVBQVUsRUFBRSxzQkFBWTtBQUNwQixhQUFLMEUsaUJBQUwsQ0FBdUJ0RSxFQUF2QixDQUEwQixPQUExQixFQUFtQyxLQUFLdUUsWUFBTCxDQUFrQnJFLElBQWxCLENBQXVCLElBQXZCLENBQW5DO0FBQ0EsYUFBS29ELFdBQUwsQ0FBaUJ0RCxFQUFqQixDQUFvQixPQUFwQixFQUE2QixLQUFLb0MsaUJBQUwsQ0FBdUJsQyxJQUF2QixDQUE0QixJQUE1QixDQUE3QjtBQUNBLGFBQUttRSxzQkFBTCxDQUE0QnJFLEVBQTVCLENBQStCLE9BQS9CLEVBQXdDLEtBQUt3RSxxQkFBTCxDQUEyQnRFLElBQTNCLENBQWdDLElBQWhDLENBQXhDO0FBQ0EsYUFBS2dDLFdBQUwsQ0FBaUJsQyxFQUFqQixDQUFvQixPQUFwQixFQUE2QixLQUFLeUUsaUJBQUwsQ0FBdUJ2RSxJQUF2QixDQUE0QixJQUE1QixDQUE3QjtBQUNILE9BdkJpQjtBQXdCbEJxRSxNQUFBQSxZQUFZLEVBQUUsd0JBQVk7QUFDdEI3RSxRQUFBQSxTQUFTLENBQUNtQyxpQkFBVjtBQUNILE9BMUJpQjtBQTJCbEI0QyxNQUFBQSxpQkFBaUIsRUFBRSw2QkFBWTtBQUMzQixZQUFJcEMsT0FBTyxHQUFHLEtBQUtILFdBQUwsQ0FBaUJDLElBQWpCLENBQXNCLGNBQXRCLE1BQTBDLE1BQXhEO0FBQ0EsYUFBS0QsV0FBTCxDQUFpQkMsSUFBakIsQ0FBc0IsY0FBdEIsRUFBc0MsQ0FBQ0UsT0FBdkM7O0FBRUEsWUFBSSxDQUFDQSxPQUFMLEVBQWM7QUFDVixlQUFLQyxlQUFMLENBQXFCYixJQUFyQjtBQUNBLGVBQUtjLGdCQUFMLENBQXNCYixJQUF0QjtBQUNILFNBSEQsTUFHTztBQUNILGVBQUthLGdCQUFMLENBQXNCZCxJQUF0QjtBQUNBLGVBQUthLGVBQUwsQ0FBcUJaLElBQXJCO0FBQ0g7QUFDSixPQXRDaUI7QUF1Q2xCVSxNQUFBQSxpQkFBaUIsRUFBRSw2QkFBWTtBQUMzQixhQUFLdkMsY0FBTCxDQUFvQnNFLEtBQXBCO0FBRUE7O0FBQ0E7O0FBQ0EsWUFBSVAsWUFBWSxHQUFHMUUsQ0FBQyxDQUFDLDBHQUFELENBQXBCO0FBQ0EsWUFBSTJFLGdCQUFnQixHQUFHRCxZQUFZLENBQUMsQ0FBRCxDQUFuQztBQUNBLFlBQUlFLGVBQWUsR0FBR0YsWUFBWSxDQUFDQSxZQUFZLENBQUNsRCxNQUFiLEdBQXNCLENBQXZCLENBQWxDO0FBRUEsYUFBS25CLEdBQUwsQ0FBU1MsRUFBVCxDQUFZLFNBQVosRUFBdUIsVUFBVStELENBQVYsRUFBYTtBQUNoQztBQUNBLGNBQUlBLENBQUMsQ0FBQ3pDLEdBQUYsS0FBVSxRQUFkLEVBQXdCO0FBQ3BCNUIsWUFBQUEsU0FBUyxDQUFDbUMsaUJBQVY7QUFDSDs7QUFFRCxjQUFJbUMsWUFBWSxHQUFJRCxDQUFDLENBQUN6QyxHQUFGLEtBQVUsS0FBOUI7O0FBRUEsY0FBSSxDQUFDMEMsWUFBTCxFQUFtQjtBQUNmO0FBQ0g7O0FBRUQsY0FBSUQsQ0FBQyxDQUFDRSxRQUFOO0FBQWdCO0FBQWtCO0FBQzlCLGtCQUFJM0QsUUFBUSxDQUFDNEQsYUFBVCxLQUEyQkwsZ0JBQS9CLEVBQWlEO0FBQzdDQyxnQkFBQUEsZUFBZSxDQUFDSyxLQUFoQjtBQUNBSixnQkFBQUEsQ0FBQyxDQUFDSyxjQUFGO0FBQ0g7QUFDSixhQUxEO0FBS087QUFBVTtBQUNiLGtCQUFJOUQsUUFBUSxDQUFDNEQsYUFBVCxLQUEyQkosZUFBL0IsRUFBZ0Q7QUFDNUNELGdCQUFBQSxnQkFBZ0IsQ0FBQ00sS0FBakI7QUFDQUosZ0JBQUFBLENBQUMsQ0FBQ0ssY0FBRjtBQUNIO0FBQ0o7QUFDSixTQXZCRDtBQXdCSCxPQXhFaUI7QUF5RWxCSSxNQUFBQSxxQkFBcUIsRUFBRSxpQ0FBWTtBQUMvQixZQUFJRSx3QkFBd0IsR0FBRyxLQUFLeEMsV0FBTCxDQUFpQkMsSUFBakIsQ0FBc0IsY0FBdEIsTUFBMEMsTUFBekU7O0FBRUEsWUFBSXVDLHdCQUF3QixLQUFLLElBQWpDLEVBQXVDO0FBQ25DaEYsVUFBQUEsU0FBUyxDQUFDbUIsU0FBVixDQUFvQnpCLG9CQUFwQixFQUEwQyxNQUExQyxFQUFrRCxHQUFsRDtBQUNIOztBQUVELFlBQUlzRix3QkFBd0IsS0FBSyxLQUFqQyxFQUF3QztBQUNwQztBQUNBLGNBQUloRixTQUFTLENBQUMyQixjQUFWLENBQXlCakMsb0JBQXpCLENBQUosRUFBb0Q7QUFDaERNLFlBQUFBLFNBQVMsQ0FBQzBCLFlBQVYsQ0FBdUJoQyxvQkFBdkI7QUFDSDtBQUNKOztBQUVETSxRQUFBQSxTQUFTLENBQUNtQixTQUFWLENBQW9CMUIsd0JBQXBCLEVBQThDLE1BQTlDLEVBQXNELEdBQXREO0FBQ0FPLFFBQUFBLFNBQVMsQ0FBQ2tDLFVBQVY7QUFDQWxDLFFBQUFBLFNBQVMsQ0FBQ21DLGlCQUFWO0FBQ0g7QUExRmlCLEtBQXRCO0FBNkZBeEMsSUFBQUEsaUJBQWlCLENBQUNDLElBQWxCO0FBQ0FJLElBQUFBLFNBQVMsQ0FBQ0osSUFBVjtBQUNBNEQsSUFBQUEsTUFBTSxDQUFDNUQsSUFBUDtBQUNBMkMsSUFBQUEsYUFBYSxDQUFDM0MsSUFBZDtBQUNILEdBeFJBLENBQUQ7QUF5UkgsQ0F4U0QsRUF3U0dxRixNQXhTSCIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiAoJCkge1xuICAgICd1c2Ugc3RyaWN0J1xuICAgIC8qKlxuICAgICAqICBEZWZpbmUgaGFuZGxlcnMgd2hlbiB5b3UgbmVlZCB0byBtYW5pcGxhdGUgbGF0ZSBsb2FkaW5nIGl0ZW1zIHN1Y2ggYXMgaW1hZ2VzXG4gICAgICogKi9cblxuICAgIC8vICQod2luZG93KS5vbignbG9hZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAvLyBwbGFjZSBjb2RlIGhlcmUgaWYgeW91IG5lZWQgdG8gbWFuaXB1bGUgYSBsYXRlIGxvYWRpbmcgb2JqZWN0IGxpa2UgaW1hZ2VzXG4gICAgLy8gfSlcblxuICAgIC8qKlxuICAgICAqICBEZWZpbmUgaGFuZGxlcnMgZm9yIHdoZW4gdGhlIGh0bWwvRE9NIGlzIHJlYWR5LlxuICAgICAqICBCYW5uZXIgc2V0dGluZ3MgdXNlIGNvb2tpZXMgKHJhdGhlciB0aGFuIGxvY2FsIHN0b3JhZ2UpIHRvIG1ha2Ugb2xkZXIgYnJvd2VycyA8IElFOCBoYXBweVxuICAgICAqIFRPRE86IFRhcmdldCBkYXRhIGF0dHJpYnV0ZXMgcmF0aGVyIHRoYW4gQ1NTIGNsYXNzZXNcbiAgICAgKiAqL1xuICAgICQoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIGNvbnN0IGNvb2tpZV9rZXlfYmFubmVyX2hpZGRlbiA9ICdjY2Z3X3dwX3BsdWdpbi5iYW5uZXIuaGlkZGVuJ1xuICAgICAgICBjb25zdCBjb29raWVfa2V5X2dhX2FjY2VwdCAgID0gJ2NjZndfd3BfcGx1Z2luLmdhLmFjY2VwdCdcblxuICAgICAgICAvLyBUaGlzIGlzIHVzZWQgc28gbXVjaCBtYWtlIHN1cmUgYWxsIG1vZHVsZXMgdXNlIGl0IHRvIHNhdmUgY2FsbHMgdG8gRE9NXG4gICAgICAgIGNvbnN0IGNhY2hlTWFpbkVsZW1lbnRzID0ge1xuICAgICAgICAgICAgaW5pdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuJGVsID0gJCgnI2NjZnctcGFnZS1iYW5uZXInKVxuICAgICAgICAgICAgICAgIHRoaXMuJGJvZHkgPSAkKCdib2R5JylcbiAgICAgICAgICAgICAgICB0aGlzLiRodG1sID0gJCgnaHRtbCcpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogIEhlbHBlciBmdW5jdGlvbnMgZm9yIHNoYXJlZCB0YXNrc1xuICAgICAgICAgKiAqL1xuICAgICAgICBjb25zdCB1dGlsaXRpZXMgPSB7XG4gICAgICAgICAgICBpbml0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jYWNoZURvbSgpXG4gICAgICAgICAgICAgICAgdGhpcy5iaW5kRXZlbnRzKClcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjYWNoZURvbTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuJGVsID0gY2FjaGVNYWluRWxlbWVudHMuJGVsXG4gICAgICAgICAgICAgICAgdGhpcy4kc2V0dGluZ3NNb2RhbCA9IHRoaXMuJGVsLmZpbmQoJyNjb29raWUtcG9wdXAnKVxuICAgICAgICAgICAgICAgIHRoaXMuJGJvZHkgPSBjYWNoZU1haW5FbGVtZW50cy4kYm9keVxuICAgICAgICAgICAgICAgIHRoaXMuJGh0bWwgPSBjYWNoZU1haW5FbGVtZW50cy4kaHRtbFxuICAgICAgICAgICAgICAgIHRoaXMuJGNvb2tpZVNldHRpbmdzQnV0dG9uID0gdGhpcy4kYm9keS5maW5kKCcjanMtY2Nmdy1zZXR0aW5ncy1idXR0b24nKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGJpbmRFdmVudHM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRjb29raWVTZXR0aW5nc0J1dHRvbi5vbignY2xpY2snLCB0aGlzLnNob3dCYW5uZXIuYmluZCh0aGlzKSlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXRDb29raWU6IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gJzsgJyArIGRvY3VtZW50LmNvb2tpZVxuICAgICAgICAgICAgICAgIHZhciBwYXJ0cyA9IHZhbHVlLnNwbGl0KCc7ICcgKyBuYW1lICsgJz0nKVxuICAgICAgICAgICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhcnRzLnBvcCgpLnNwbGl0KCc7Jykuc2hpZnQoKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXRDb29raWU6IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSwgZGF5cykge1xuICAgICAgICAgICAgICAgIHZhciBkID0gbmV3IERhdGUoKVxuICAgICAgICAgICAgICAgIGQuc2V0VGltZShkLmdldFRpbWUoKSArIDI0ICogNjAgKiA2MCAqIDEwMDAgKiBkYXlzKVxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmNvb2tpZSA9IG5hbWUgKyAnPScgKyB2YWx1ZSArICc7IHBhdGg9LzsgZXhwaXJlcz0nICsgZC50b0dNVFN0cmluZygpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGVsZXRlQ29va2llOiBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmNvb2tpZSA9IG5hbWUgKyAnPTsgUGF0aD0vOyBFeHBpcmVzPVRodSwgMDEgSmFuIDE5NzAgMDA6MDA6MDEgR01UOydcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjaGVja0ZvckNvb2tpZTogZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgICAgIGxldCBjb29raWUgPSB0aGlzLmdldENvb2tpZShrZXkpXG4gICAgICAgICAgICAgICAgbGV0IGJvb2wgPSBjb29raWUgPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogdHJ1ZVxuICAgICAgICAgICAgICAgIHJldHVybiBib29sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2hvd0Jhbm5lcjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuJGVsLnNob3coKVxuICAgICAgICAgICAgICAgIHRoaXMuJGNvb2tpZVNldHRpbmdzQnV0dG9uLmhpZGUoKVxuICAgICAgICAgICAgICAgIHRoaXMudG9nZ2xlQXJpYUhpZGRlbih0aGlzLiRlbCwgXCJoaWRlXCIpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaGlkZUJhbm5lcjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuJGVsLmhpZGUoKVxuICAgICAgICAgICAgICAgIHRoaXMudG9nZ2xlQXJpYUhpZGRlbih0aGlzLiRlbCwgXCJ1bmhpZGVcIilcbiAgICAgICAgICAgICAgICB0aGlzLiRjb29raWVTZXR0aW5nc0J1dHRvbi5zaG93KClcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBoaWRlU2V0dGluZ3NNb2RhbDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuJHNldHRpbmdzTW9kYWwuaGlkZSgpXG4gICAgICAgICAgICAgICAgdGhpcy4kYm9keS5yZW1vdmVDbGFzcyhcImNjZnctbW9kYWwtb3BlblwiKVxuICAgICAgICAgICAgICAgIHRoaXMuJGVsLnJlbW92ZUNsYXNzKFwiY2Nmdy1jb29raWUtYmFubmVyLW9wZW5cIilcbiAgICAgICAgICAgICAgICB0aGlzLiRodG1sLnJlbW92ZUNsYXNzKFwiY2Nmdy1jb29raWUtYmFubmVyLW9wZW5cIilcbiAgICAgICAgICAgICAgICB0aGlzLiRib2R5LnJlbW92ZUNsYXNzKFwiY2Nmdy1jb29raWUtYmFubmVyLW9wZW5cIilcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzaG93U2V0dGluZ3NNb2RhbDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuJHNldHRpbmdzTW9kYWwuc2hvdygpXG4gICAgICAgICAgICAgICAgdGhpcy4kYm9keS5hZGRDbGFzcyhcImNjZnctbW9kYWwtb3BlblwiKVxuICAgICAgICAgICAgICAgIHRoaXMuJGVsLmFkZENsYXNzKFwiY2Nmdy1jb29raWUtYmFubmVyLW9wZW5cIilcbiAgICAgICAgICAgICAgICB0aGlzLiRodG1sLmFkZENsYXNzKFwiY2Nmdy1jb29raWUtYmFubmVyLW9wZW5cIilcbiAgICAgICAgICAgICAgICB0aGlzLiRib2R5LmFkZENsYXNzKFwiY2Nmdy1jb29raWUtYmFubmVyLW9wZW5cIilcbiAgICAgICAgICAgICAgICBpZiAodXRpbGl0aWVzLmNoZWNrRm9yQ29va2llKGNvb2tpZV9rZXlfZ2FfYWNjZXB0KSkge1xuICAgICAgICAgICAgICAgICAgICBzZXR0aW5nc01vZGFsLiRHQWNoZWNrQm94LmF0dHIoXCJhcmlhLWNoZWNrZWRcIiwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNldHRpbmdzTW9kYWwudHJhcFNldHRpbmdzRm9jdXMoKTtcblxuICAgICAgICAgICAgICAgIGxldCBwcmVzc2VkID0gc2V0dGluZ3NNb2RhbC4kR0FjaGVja0JveC5hdHRyKFwiYXJpYS1jaGVja2VkXCIpID09PSBcInRydWVcIjtcblxuICAgICAgICAgICAgICAgIGlmIChwcmVzc2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdzTW9kYWwuJGdhVG9nZ2xlT25UZXh0LnNob3coKVxuICAgICAgICAgICAgICAgICAgICBzZXR0aW5nc01vZGFsLiRnYVRvZ2dsZU9mZlRleHQuaGlkZSgpXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3NNb2RhbC4kZ2FUb2dnbGVPZmZUZXh0LnNob3coKVxuICAgICAgICAgICAgICAgICAgICBzZXR0aW5nc01vZGFsLiRnYVRvZ2dsZU9uVGV4dC5oaWRlKClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdG9nZ2xlQXJpYUhpZGRlbjogZnVuY3Rpb24gKGVsZW0sIHN0YXRlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNpYmxpbmdzID0gW107XG4gICAgICAgICAgICAgICAgdmFyIHNpYmxpbmcgPSBlbGVtLnBhcmVudCgpLmNoaWxkcmVuKCk7XG5cbiAgICAgICAgICAgICAgICB3aGlsZSAoc2libGluZykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2libGluZyAhPT0gZWxlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2libGluZ3MucHVzaChzaWJsaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzaWJsaW5nID0gc2libGluZy5uZXh0U2libGluZ1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChzdGF0ZSA9PT0gXCJoaWRlXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgc2libGluZ3MuZm9yRWFjaChmdW5jdGlvbiAoc2libGluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2libGluZy5hdHRyKFwiYXJpYS1oaWRkZW5cIiwgXCJ0cnVlXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtLnJlbW92ZUF0dHIoXCJhcmlhLWhpZGRlblwiLCBcInRydWVcIilcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzaWJsaW5ncy5mb3JFYWNoKGZ1bmN0aW9uIChzaWJsaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaWJsaW5nLnJlbW92ZUF0dHIoXCJhcmlhLWhpZGRlblwiLCBcInRydWVcIilcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcbiAgICAgICAgICogIEJhbm5lciBtYW5hZ2VtZW50IGFuZCBjb250cm9sXG4gICAgICAgICAqICovXG4gICAgICAgIGNvbnN0IGJhbm5lciA9IHtcbiAgICAgICAgICAgIGluaXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNhY2hlRG9tKClcbiAgICAgICAgICAgICAgICB0aGlzLmJpbmRFdmVudHMoKVxuICAgICAgICAgICAgICAgIHRoaXMuYmFubmVyRGlzcGxheSgpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2FjaGVEb206IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRlbCA9IGNhY2hlTWFpbkVsZW1lbnRzLiRlbFxuICAgICAgICAgICAgICAgIHRoaXMuJGJ1dHRvbkFjY2VwdCA9IHRoaXMuJGVsLmZpbmQoJyNjb29raWUtYWNjZXB0JylcbiAgICAgICAgICAgICAgICB0aGlzLiRidXR0b25EZWNsaW5lID0gdGhpcy4kZWwuZmluZCgnI2Nvb2tpZS1kZWNsaW5lJylcbiAgICAgICAgICAgICAgICB0aGlzLiRidXR0b25JbmZvID0gdGhpcy4kZWwuZmluZCgnI2Nvb2tpZS1tb3JlLWluZm8nKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGJpbmRFdmVudHM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRidXR0b25BY2NlcHQub24oJ2NsaWNrJywgdGhpcy5hY2NlcHRBbGxCdXR0b24uYmluZCh0aGlzKSlcbiAgICAgICAgICAgICAgICB0aGlzLiRidXR0b25EZWNsaW5lLm9uKCdjbGljaycsIHRoaXMuZGVjbGluZUFsbEJ1dHRvbi5iaW5kKHRoaXMpKVxuICAgICAgICAgICAgICAgIHRoaXMuJGJ1dHRvbkluZm8ub24oJ2NsaWNrJywgdGhpcy5jaG9vc2VDb29raWVTZXR0aW5nc0J1dHRvbi5iaW5kKHRoaXMpKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGJhbm5lckRpc3BsYXk6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAodXRpbGl0aWVzLmNoZWNrRm9yQ29va2llKGNvb2tpZV9rZXlfYmFubmVyX2hpZGRlbikgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHV0aWxpdGllcy5zaG93QmFubmVyKClcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFwQmFubmVyRm9jdXMoKVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHV0aWxpdGllcy5oaWRlQmFubmVyKClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdHJhcEJhbm5lckZvY3VzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgbGV0IGNvb2tpZUJhbm5lckJ1dHRvbnMgPSAkKCcuY2Nmdy1iYW5uZXJfX2J1dHRvbnMnKVxuICAgICAgICAgICAgICAgIGxldCBmb2N1c2FibGVFbHMgPSAkKCcuY2Nmdy1iYW5uZXJfX2J1dHRvbnMgI2Nvb2tpZS1hY2NlcHQsIC5jY2Z3LWJhbm5lcl9fYnV0dG9ucyAjY29va2llLWRlY2xpbmUsIC5jY2Z3LWJhbm5lcl9fYnV0dG9ucyAjY29va2llLW1vcmUtaW5mbycpXG5cbiAgICAgICAgICAgICAgICBsZXQgZmlyc3RGb2N1c2FibGVFbCA9IGZvY3VzYWJsZUVsc1swXTtcbiAgICAgICAgICAgICAgICBsZXQgbGFzdEZvY3VzYWJsZUVsID0gZm9jdXNhYmxlRWxzW2ZvY3VzYWJsZUVscy5sZW5ndGggLSAxXTtcblxuICAgICAgICAgICAgICAgIGNvb2tpZUJhbm5lckJ1dHRvbnMub24oJ2tleWRvd24nLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaXNUYWJQcmVzc2VkID0gKGUua2V5ID09PSAnVGFiJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1RhYlByZXNzZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoZS5zaGlmdEtleSkgLyogc2hpZnQgKyB0YWIgKi8ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IGZpcnN0Rm9jdXNhYmxlRWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0Rm9jdXNhYmxlRWwuZm9jdXMoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgLyogdGFiICovIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSBsYXN0Rm9jdXNhYmxlRWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaXJzdEZvY3VzYWJsZUVsLmZvY3VzKClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYWNjZXB0QWxsQnV0dG9uOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdXRpbGl0aWVzLnNldENvb2tpZShjb29raWVfa2V5X2Jhbm5lcl9oaWRkZW4sICd0cnVlJywgMzY1KVxuICAgICAgICAgICAgICAgIHV0aWxpdGllcy5zZXRDb29raWUoY29va2llX2tleV9nYV9hY2NlcHQsICd0cnVlJywgMzY1KVxuICAgICAgICAgICAgICAgIHV0aWxpdGllcy5oaWRlQmFubmVyKClcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZWNsaW5lQWxsQnV0dG9uOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB1dGlsaXRpZXMuc2V0Q29va2llKGNvb2tpZV9rZXlfYmFubmVyX2hpZGRlbiwgJ3RydWUnLCAzNjUpXG4gICAgICAgICAgICAgICAgdXRpbGl0aWVzLmRlbGV0ZUNvb2tpZShjb29raWVfa2V5X2dhX2FjY2VwdClcbiAgICAgICAgICAgICAgICB1dGlsaXRpZXMuaGlkZUJhbm5lcigpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2hvb3NlQ29va2llU2V0dGluZ3NCdXR0b246IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHV0aWxpdGllcy5zaG93U2V0dGluZ3NNb2RhbCgpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBzZXR0aW5nc01vZGFsID0ge1xuICAgICAgICAgICAgaW5pdDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2FjaGVEb20oKVxuICAgICAgICAgICAgICAgIHRoaXMuYmluZEV2ZW50cygpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2FjaGVEb206IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiRlbCA9IGNhY2hlTWFpbkVsZW1lbnRzLiRlbFxuICAgICAgICAgICAgICAgIHRoaXMuJHNldHRpbmdzTW9kYWwgPSB0aGlzLiRlbC5maW5kKCcjY29va2llLXBvcHVwJylcbiAgICAgICAgICAgICAgICB0aGlzLiRidXR0b25BY2NlcHQgPSB0aGlzLiRzZXR0aW5nc01vZGFsLmZpbmQoJyNjb29raWUtYWNjZXB0JylcbiAgICAgICAgICAgICAgICB0aGlzLiRidXR0b25EZWNsaW5lID0gdGhpcy4kc2V0dGluZ3NNb2RhbC5maW5kKCcjY29va2llLWRlY2xpbmUnKVxuICAgICAgICAgICAgICAgIHRoaXMuJGJ1dHRvbkluZm8gPSB0aGlzLiRzZXR0aW5nc01vZGFsLmZpbmQoJyNjb29raWUtbW9yZS1pbmZvJylcbiAgICAgICAgICAgICAgICB0aGlzLiRidXR0b25TYXZlUHJlZmVyZW5jZXMgPSB0aGlzLiRzZXR0aW5nc01vZGFsLmZpbmQoJyNjb29raWUtc2F2ZS1wcmVmZXJlbmNlcycpXG4gICAgICAgICAgICAgICAgdGhpcy4kR0FjaGVja0JveCA9IHRoaXMuJHNldHRpbmdzTW9kYWwuZmluZCgnI2NjZnctYW5hbHl0aWNzLWNvb2tpZXMtdG9nZ2xlJylcbiAgICAgICAgICAgICAgICB0aGlzLiRidXR0b25Nb2RhbENsb3NlID0gdGhpcy4kc2V0dGluZ3NNb2RhbC5maW5kKCcjY2Nmdy1tb2RhbC1jbG9zZScpXG4gICAgICAgICAgICAgICAgdGhpcy4kYm9keSA9IGNhY2hlTWFpbkVsZW1lbnRzLiRib2R5XG4gICAgICAgICAgICAgICAgdGhpcy4kZ2FUb2dnbGVPblRleHQgPSB0aGlzLiRzZXR0aW5nc01vZGFsLmZpbmQoJyNjY2Z3LWdhLXRvZ2dsZS1vbicpXG4gICAgICAgICAgICAgICAgdGhpcy4kZ2FUb2dnbGVPZmZUZXh0ID0gdGhpcy4kc2V0dGluZ3NNb2RhbC5maW5kKCcjY2Nmdy1nYS10b2dnbGUtb2ZmJylcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBiaW5kRXZlbnRzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kYnV0dG9uTW9kYWxDbG9zZS5vbignY2xpY2snLCB0aGlzLm1vZGFsRGlzcGxheS5iaW5kKHRoaXMpKVxuICAgICAgICAgICAgICAgIHRoaXMuJGJ1dHRvbkluZm8ub24oJ2NsaWNrJywgdGhpcy50cmFwU2V0dGluZ3NGb2N1cy5iaW5kKHRoaXMpKVxuICAgICAgICAgICAgICAgIHRoaXMuJGJ1dHRvblNhdmVQcmVmZXJlbmNlcy5vbignY2xpY2snLCB0aGlzLnNhdmVDb29raWVQcmVmZXJlbmNlcy5iaW5kKHRoaXMpKVxuICAgICAgICAgICAgICAgIHRoaXMuJEdBY2hlY2tCb3gub24oJ2NsaWNrJywgdGhpcy50b2dnbGVBcmlhUHJlc3NlZC5iaW5kKHRoaXMpKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG1vZGFsRGlzcGxheTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHV0aWxpdGllcy5oaWRlU2V0dGluZ3NNb2RhbCgpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdG9nZ2xlQXJpYVByZXNzZWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBsZXQgcHJlc3NlZCA9IHRoaXMuJEdBY2hlY2tCb3guYXR0cihcImFyaWEtY2hlY2tlZFwiKSA9PT0gXCJ0cnVlXCI7XG4gICAgICAgICAgICAgICAgdGhpcy4kR0FjaGVja0JveC5hdHRyKFwiYXJpYS1jaGVja2VkXCIsICFwcmVzc2VkKTtcblxuICAgICAgICAgICAgICAgIGlmICghcHJlc3NlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiRnYVRvZ2dsZU9uVGV4dC5zaG93KClcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kZ2FUb2dnbGVPZmZUZXh0LmhpZGUoKVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJGdhVG9nZ2xlT2ZmVGV4dC5zaG93KClcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kZ2FUb2dnbGVPblRleHQuaGlkZSgpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRyYXBTZXR0aW5nc0ZvY3VzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kc2V0dGluZ3NNb2RhbC5mb2N1cygpXG5cbiAgICAgICAgICAgICAgICAvKlRyYXAgZm9jdXMgKi9cbiAgICAgICAgICAgICAgICAvKiBCYXNlZCBvbiBIaWRkZSBkZSBWcmllcycgc29sdXRpb246IGh0dHBzOi8vaGlkZGVkZXZyaWVzLm5sL2VuL2Jsb2cvMjAxNy0wMS0yOS11c2luZy1qYXZhc2NyaXB0LXRvLXRyYXAtZm9jdXMtaW4tYW4tZWxlbWVudCAqL1xuICAgICAgICAgICAgICAgIGxldCBmb2N1c2FibGVFbHMgPSAkKCcjY29va2llLXBvcHVwIGFbaHJlZl0sICNjb29raWUtcG9wdXAgZGV0YWlscywgI2Nvb2tpZS1wb3B1cCBidXR0b24sICNjb29raWUtcG9wdXAgaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJylcbiAgICAgICAgICAgICAgICBsZXQgZmlyc3RGb2N1c2FibGVFbCA9IGZvY3VzYWJsZUVsc1swXTtcbiAgICAgICAgICAgICAgICBsZXQgbGFzdEZvY3VzYWJsZUVsID0gZm9jdXNhYmxlRWxzW2ZvY3VzYWJsZUVscy5sZW5ndGggLSAxXTtcblxuICAgICAgICAgICAgICAgIHRoaXMuJGVsLm9uKCdrZXlkb3duJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2xvc2UgYmFubmVyIGlmIHVzZXIgcHJlc3NlcyBlc2NhcGUga2V5XG4gICAgICAgICAgICAgICAgICAgIGlmIChlLmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHV0aWxpdGllcy5oaWRlU2V0dGluZ3NNb2RhbCgpXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB2YXIgaXNUYWJQcmVzc2VkID0gKGUua2V5ID09PSAnVGFiJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1RhYlByZXNzZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChlLnNoaWZ0S2V5KSAvKiBzaGlmdCArIHRhYiAqLyB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gZmlyc3RGb2N1c2FibGVFbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RGb2N1c2FibGVFbC5mb2N1cygpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSAvKiB0YWIgKi8ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IGxhc3RGb2N1c2FibGVFbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpcnN0Rm9jdXNhYmxlRWwuZm9jdXMoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzYXZlQ29va2llUHJlZmVyZW5jZXM6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBsZXQgYW5hbHl0aWNzQ29va2llc1R1cm5lZE9uID0gdGhpcy4kR0FjaGVja0JveC5hdHRyKFwiYXJpYS1jaGVja2VkXCIpID09PSBcInRydWVcIjtcblxuICAgICAgICAgICAgICAgIGlmIChhbmFseXRpY3NDb29raWVzVHVybmVkT24gPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdXRpbGl0aWVzLnNldENvb2tpZShjb29raWVfa2V5X2dhX2FjY2VwdCwgJ3RydWUnLCAzNjUpXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGFuYWx5dGljc0Nvb2tpZXNUdXJuZWRPbiA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gR0EgLSBJZiBwcmVzZW50IHJlbW92ZSBHQSBjb29raWUsIG90aGVyd2lzZSBkbyBub3RoaW5nLCBkZWZhdWx0IGlzIEdBIG9mZlxuICAgICAgICAgICAgICAgICAgICBpZiAodXRpbGl0aWVzLmNoZWNrRm9yQ29va2llKGNvb2tpZV9rZXlfZ2FfYWNjZXB0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdXRpbGl0aWVzLmRlbGV0ZUNvb2tpZShjb29raWVfa2V5X2dhX2FjY2VwdClcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHV0aWxpdGllcy5zZXRDb29raWUoY29va2llX2tleV9iYW5uZXJfaGlkZGVuLCAndHJ1ZScsIDM2NSlcbiAgICAgICAgICAgICAgICB1dGlsaXRpZXMuaGlkZUJhbm5lcigpXG4gICAgICAgICAgICAgICAgdXRpbGl0aWVzLmhpZGVTZXR0aW5nc01vZGFsKClcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH1cblxuICAgICAgICBjYWNoZU1haW5FbGVtZW50cy5pbml0KClcbiAgICAgICAgdXRpbGl0aWVzLmluaXQoKVxuICAgICAgICBiYW5uZXIuaW5pdCgpXG4gICAgICAgIHNldHRpbmdzTW9kYWwuaW5pdCgpXG4gICAgfSlcbn0pKGpRdWVyeSk7XG4iXSwiZmlsZSI6Ii4vc3JjL2pzL2NjZnctZnJvbnRlbmQtbGVnYWN5LmpzLmpzIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/js/ccfw-frontend-legacy.js\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = {};
/******/ 	__webpack_modules__["./src/js/ccfw-frontend-legacy.js"]();
/******/ 	
/******/ })()
;