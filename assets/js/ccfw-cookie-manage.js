(()=>{"use strict";var e={gtm:("; "+document.cookie).split("; ccfw_gtm_id=").pop().split(";").shift(),gtmID:document.getElementById("ccfw-page-banner").getAttribute("data-gtm-id"),canRun:function(e){return e.startsWith("GTM")||!1},allowedIds:[],selector:{all:{accept:"cookie-accept",decline:"cookie-decline"},moreInfo:"cookie-more-info",settings:"js-ccfw-settings-button",toggles:"ccfw-banner__toggle-slider"},storage:{time:{get:function(){return JSON.parse(window.localStorage.getItem("ccfw-time"))},set:function(){return window.localStorage.setItem("ccfw-time",JSON.stringify(new Date((new Date).setFullYear((new Date).getFullYear()+1)).getTime()))}},allowed:{get:function(){return JSON.parse(window.localStorage.getItem("ccfw-gtm-allowed"))},set:function(e){return window.localStorage.setItem("ccfw-gtm-allowed",JSON.stringify(e))}},bannerHidden:{get:function(){return JSON.parse(window.localStorage.getItem("ccfw-banner-hidden"))},set:function(e){return window.localStorage.setItem("ccfw-banner-hidden",JSON.stringify(e))}},clear:function(e){return window.localStorage.removeItem(e)}},listItem:{set:function(t){dataLayer[0]["gtm.allowlist"]=t,e.storage.allowed.set(t)},clear:function(e,t){dataLayer[0][e].forEach((function(e,a,n){e===t&&n.splice(a,1)}))}},trackEvent:function(e,t){t?dataLayer.push(jQuery.extend({},{event:e},t)):dataLayer.push({event:e})},jqTarget:function(e){return $(e.target)},clearStorage:function(){var t=e.storage.time.get();(new Date).getTime()>t&&(e.storage.clear("ccfw-gtm-allowed"),e.storage.clear("ccfw-banner-hidden"),e.storage.clear("ccfw-time"))},toggleAll:function(t){var a=e.storage.allowed.get()||[];return t&&(a=[]),$("."+e.selector.toggles).each((function(e,n){var r=$(n).data("allowlist");t?($(n).attr("aria-checked",!1),$("#ccfw-"+r+"-toggle-off").removeAttr("aria-hidden").show(),$("#ccfw-"+r+"-toggle-on").attr("aria-hidden","true").hide()):(-1===a.indexOf(r)&&a.push(r),$(n).attr("aria-checked",!0),$("#ccfw-"+r+"-toggle-on").removeAttr("aria-hidden").show(),$("#ccfw-"+r+"-toggle-off").attr("aria-hidden","true").hide())})),a}},t=function(t){t.preventDefault();var a=$(this),n=a.data("allowlist"),r=e.storage.allowed.get()||[],o="true"===a.attr("aria-checked");return a.attr("aria-checked",!o),"all"===n&&(r=e.toggleAll(o)),o?(r=r.filter((function(e){return e!==n})),$("#ccfw-"+n+"-toggle-off").removeAttr("aria-hidden").show(),$("#ccfw-"+n+"-toggle-on").attr("aria-hidden","true").hide()):(-1===r.indexOf(n)&&r.push(n),$("#ccfw-"+n+"-toggle-on").removeAttr("aria-hidden").show(),$("#ccfw-"+n+"-toggle-off").attr("aria-hidden","true").hide()),e.listItem.set(r),console.log(r),!1},a=function(){if(e.canRun(e.gtmID)){window.dataLayer=[];var t=e.storage.allowed.get()||[],a=[],n=[];return-1!==t.indexOf("ua")&&(a=a.concat("cl","sdl","evl","jel","tl"),n=["c","ctv","d","vis","gas","f","j","r","u"]),t=t.concat(["v","e","jsm"],a,n),window.dataLayer=[{"gtm.allowlist":t}],function(e,t,a,n,r){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var o=t.getElementsByTagName(a)[0],c=t.createElement(a);c.async=!0,c.src="https://www.googletagmanager.com/gtm.js?id="+r,o.parentNode.insertBefore(c,o)}(window,document,"script","dataLayer",e.gtmID),!0}return console.warn("CCFW GTM:","The GTM ID wasn't assigned or, does not exist."),!1}();jQuery((function(n){if(a){var r=n(".ccfw-banner__toggle-slider"),o=[];r.each((function(e,t){o.push(n(t).data("allowlist"))})),e.allowedIds=o,n("."+e.selector.toggles).on("click",t),e.clearStorage(),console.log(o)}}))})();