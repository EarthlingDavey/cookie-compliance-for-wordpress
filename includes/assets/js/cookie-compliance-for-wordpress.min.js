!function($){"use strict";$(function(){var i={init:function(){this.storageAvailable()},storageAvailable:function(e){try{var t=window[e],o="__storage_test__";return t.setItem(o,o),t.removeItem(o),!1}catch(i){return!1}},getCookie:function(e){var t=("; "+document.cookie).split("; "+e+"=");if(2===t.length)return t.pop().split(";").shift()},setCookie:function(e,t,o){var i=new Date;i.setTime(i.getTime()+864e5*o),document.cookie=e+"="+t+"; path=/; expires="+i.toGMTString()}},e={init:function(){this.cacheDom(),this.bindEvents(),this.setBannerDisplay()},cacheDom:function(){i.storageAvailable("localStorage")&&(this.localStorage=window.localStorage),this.$el=$("#ccfw-page-banner-container"),this.$buttonAccept=this.$el.find("button")},setBannerDisplay:function(){if(i.storageAvailable("localStorage"))var e=this.localStorage.getItem("ccfwCookiePolicySaved")||!1;else var t=i.getCookie("ccfwCookiePolicySaved")||!1;"true"===(e||t)?$("#ccfw-page-banner-container").hide():$("#ccfw-page-banner-container").show()},bindEvents:function(){this.$buttonAccept.on("click",this.hideBanner.bind(this))},hideBanner:function(){i.storageAvailable("localStorage")?(this.localStorage.setItem("ccfwCookiePolicy","true"),this.localStorage.setItem("ccfwCookiePolicySaved","true"),this.$el.hide()):(this.$el.hide(),i.setCookie("ccfwCookiePolicy","true",365),i.setCookie("ccfwCookiePolicySaved","true",365))}},t={init:function(){$("#ccfw-settings-page-container").length&&(this.cacheDom(),this.bindEvents(),this.disableEnableGA(),this.setPrevLink())},cacheDom:function(){i.storageAvailable("localStorage")&&(this.localStorage=window.localStorage),this.$el=$("#ccfw-settings-page-container"),this.$googleYes=this.$el.find("#ga-yes"),this.$googleNo=this.$el.find("#ga-no"),this.$saveBtn=this.$el.find("#save-changes-btn"),this.$saveNtc=this.$el.find("#save-notice"),this.$prevLink=this.$el.find("#prev-link")},setPrevLink:function(){var e=document.referrer;0<e.length&&this.$prevLink.attr("href",e)},bindEvents:function(){this.$saveBtn.on("click",this.saveSettings.bind(this))},saveSettings:function(){this.$googleYes.prop("checked")?this.setGACookieTrue():this.setGACookieFalse(),i.storageAvailable("localStorage")?this.localStorage.setItem("ccfwCookiePolicySaved","true"):i.setCookie("ccfwCookiePolicySaved","true",365),this.$saveNtc.show(),$(document).scrollTop(this.$saveNtc.offset().top),this.$saveNtc.focus()},setGACookieTrue:function(){i.storageAvailable("localStorage")?this.localStorage.setItem("ccfwCookiePolicy","true"):i.setCookie("ccfwCookiePolicy","true",365)},setGACookieFalse:function(){i.storageAvailable("localStorage")?this.localStorage.setItem("ccfwCookiePolicy","false"):i.setCookie("ccfwCookiePolicy","false",365)},setCookie:function(e,t,o){var i=new Date;i.setTime(i.getTime()+864e5*o),document.cookie=e+"="+t+"; path=/; expires="+i.toGMTString()},disableEnableGA:function(){if(i.storageAvailable("localStorage"))var e=this.localStorage.getItem("ccfwCookiePolicy");else var t=i.getCookie("ccfwCookiePolicy")||!1;var o="true"===(e||t);!0===o?(o=!0,this.$googleYes.prop("checked",!0)):(o=!1,this.$googleNo.prop("checked",!0)),"function"==typeof ga&&ga(function(e){window["ga-disable-UA-"+e.get("trackingId")]=o})}};i.init(),e.init(),t.init()})}(jQuery);