!function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=4)}({4:function(t,e,n){t.exports=n(5)},5:function(t,e){!function(t){"use strict";t((function(){var e={init:function(){this.$el=t("#ccfw-page-banner"),this.$body=t("body"),this.$html=t("html")}},n={init:function(){this.cacheDom(),this.bindEvents()},cacheDom:function(){this.$el=e.$el,this.$settingsModal=this.$el.find("#cookie-popup"),this.$body=e.$body,this.$html=e.$html,this.$cookieSettingsButton=this.$body.find("#js-ccfw-settings-button")},bindEvents:function(){this.$cookieSettingsButton.on("click",this.showBanner.bind(this))},getCookie:function(t){var e=("; "+document.cookie).split("; "+t+"=");if(2===e.length)return e.pop().split(";").shift()},setCookie:function(t,e,n){var i=new Date;i.setTime(i.getTime()+864e5*n),document.cookie=t+"="+e+"; path=/; expires="+i.toGMTString()},deleteCookie:function(t){document.cookie=t+"=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;"},checkForCookie:function(t){return void 0!==this.getCookie(t)},showBanner:function(){this.$el.show(),this.$cookieSettingsButton.hide()},hideBanner:function(){this.$el.hide(),this.$cookieSettingsButton.show()},hideSettingsModal:function(){this.$settingsModal.hide(),this.$body.removeClass("ccfw-modal-open"),this.$el.removeClass("ccfw-cookie-banner-open"),this.$html.removeClass("ccfw-cookie-banner-open"),this.$body.removeClass("ccfw-cookie-banner-open")},showSettingsModal:function(){this.$settingsModal.show(),this.$body.addClass("ccfw-modal-open"),this.$el.addClass("ccfw-cookie-banner-open"),this.$html.addClass("ccfw-cookie-banner-open"),this.$body.addClass("ccfw-cookie-banner-open"),o.trapSettingsFocus()}},i={init:function(){this.cacheDom(),this.bindEvents(),this.bannerDisplay()},cacheDom:function(){this.$el=e.$el,this.$buttonAccept=this.$el.find("#cookie-accept"),this.$buttonDecline=this.$el.find("#cookie-decline"),this.$buttonInfo=this.$el.find("#cookie-more-info")},bindEvents:function(){this.$buttonAccept.on("click",this.acceptAllButton.bind(this)),this.$buttonDecline.on("click",this.declineAllButton.bind(this)),this.$buttonInfo.on("click",this.chooseCookieSettingsButton.bind(this))},bannerDisplay:function(){!1===n.checkForCookie("ccfw_wp_plugin.banner.hidden")?(n.showBanner(),this.trapBannerFocus()):n.hideBanner()},trapBannerFocus:function(){var e=t(".ccfw-banner__buttons"),n=t(".ccfw-banner__buttons #cookie-accept, .ccfw-banner__buttons #cookie-decline, .ccfw-banner__buttons #cookie-more-info"),i=n[0],o=n[n.length-1];e.on("keydown",(function(t){"Tab"===t.key&&(t.shiftKey?document.activeElement===i&&(o.focus(),t.preventDefault()):document.activeElement===o&&(i.focus(),t.preventDefault()))}))},acceptAllButton:function(){n.setCookie("ccfw_wp_plugin.banner.hidden","true",365),n.setCookie("ccfw_wp_plugin.ga.accept","true",365),n.hideBanner()},declineAllButton:function(){n.setCookie("ccfw_wp_plugin.banner.hidden","true",365),n.setCookie("ccfw_wp_plugin.ga.accept","false",365),n.hideBanner()},chooseCookieSettingsButton:function(){n.showSettingsModal()}},o={init:function(){this.cacheDom(),this.bindEvents()},cacheDom:function(){this.$el=e.$el,this.$settingsModal=this.$el.find("#cookie-popup"),this.$buttonAccept=this.$settingsModal.find("#cookie-accept"),this.$buttonDecline=this.$settingsModal.find("#cookie-decline"),this.$buttonInfo=this.$settingsModal.find("#cookie-more-info"),this.$buttonSavePreferences=this.$settingsModal.find("#cookie-save-preferences"),this.$GAcheckBox=this.$settingsModal.find("#ccfw-analytics-cookies-toggle"),this.$buttonModalClose=this.$settingsModal.find("#ccfw-modal-close"),this.$body=e.$body},bindEvents:function(){this.$buttonModalClose.on("click",this.modalDisplay.bind(this)),this.$buttonInfo.on("click",this.trapSettingsFocus.bind(this)),this.$buttonSavePreferences.on("click",this.saveCookiePreferences.bind(this)),this.$GAcheckBox.on("click",this.toggleAriaPressed.bind(this))},modalDisplay:function(){n.hideSettingsModal()},toggleAriaPressed:function(){n.checkForCookie("ccfw_wp_plugin.ga.accept")&&this.$GAcheckBox.attr("aria-checked",!0);var t="true"===this.$GAcheckBox.attr("aria-checked");this.$GAcheckBox.attr("aria-checked",!t)},trapSettingsFocus:function(){this.$settingsModal.focus();var e=t('#cookie-popup a[href], #cookie-popup details, #cookie-popup button, #cookie-popup input[type="checkbox"]'),i=e[0],o=e[e.length-1];this.$el.on("keydown",(function(t){"Escape"===t.key&&n.hideSettingsModal(),"Tab"===t.key&&(t.shiftKey?document.activeElement===i&&(o.focus(),t.preventDefault()):document.activeElement===o&&(i.focus(),t.preventDefault()))}))},saveCookiePreferences:function(){var t="true"===this.$GAcheckBox.attr("aria-checked");!0===t&&n.setCookie("ccfw_wp_plugin.ga.accept","true",365),!1===t&&n.checkForCookie("ccfw_wp_plugin.ga.accept")&&n.deleteCookie("ccfw_wp_plugin.ga.accept"),n.setCookie("ccfw_wp_plugin.banner.hidden","true",365),n.hideBanner(),n.hideSettingsModal()}};e.init(),n.init(),i.init(),o.init()}))}(jQuery)}});